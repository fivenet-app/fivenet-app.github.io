const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BClUe8kS.js","./rBnF40q5.js","./DAX8_Io3.js","./entry.ChVD9NT9.css","./DlAUqK2U.js","./DCbQi8_1.js","./C2bHYaEW.js","./CqkleIqs.js","./-Jf_oe3_.js","./DmAeN9C0.js","./index.BgTOqRb4.css","./DOS5Ct67.js","./DaDNKYhP.js","./ySlJ1b_l.js","./BPhBrDlE.js","./Dj6nwHGl.js","./DTAJTTim.js","./C1mmyNH5.js","./m-AOLwXV.js","./BDiHrqA7.js","./CVw76BM1.js","./CiNAsHKU.js","./CWGUrYGm.js","./DnAB7knh.js","./Dtn5OO9k.js"])))=>i.map(i=>d[i]);
var tr=Object.defineProperty;var rr=Object.getPrototypeOf;var nr=Reflect.get;var at=e=>{throw TypeError(e)};var sr=(e,t,r)=>t in e?tr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Pe=(e,t,r)=>sr(e,typeof t!="symbol"?t+"":t,r),Oe=(e,t,r)=>t.has(e)||at("Cannot "+r);var M=(e,t,r)=>(Oe(e,t,"read from private field"),r?r.call(e):t.get(e)),ae=(e,t,r)=>t.has(e)?at("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),H=(e,t,r,n)=>(Oe(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),Re=(e,t,r)=>(Oe(e,t,"access private method"),r);var it=(e,t,r)=>nr(rr(e),r,t);import{am as b}from"./DAX8_Io3.js";import{getMdcConfigs as ar}from"./bNaE6FFb.js";class qe extends Error{constructor(t){super(t),this.name="ShikiError"}}function ir(){return 2147483648}function or(){return typeof performance<"u"?performance.now():Date.now()}const cr=(e,t)=>e+(t-e%t)%t;async function ur(e){let t,r;const n={};function s(l){r=l,n.HEAPU8=new Uint8Array(l),n.HEAPU32=new Uint32Array(l)}function i(l,g,_){n.HEAPU8.copyWithin(l,g,g+_)}function a(l){try{return t.grow(l-r.byteLength+65535>>>16),s(t.buffer),1}catch{}}function o(l){const g=n.HEAPU8.length;l=l>>>0;const _=ir();if(l>_)return!1;for(let w=1;w<=4;w*=2){let y=g*(1+.2/w);y=Math.min(y,l+100663296);const S=Math.min(_,cr(Math.max(l,y),65536));if(a(S))return!0}return!1}const c=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function u(l,g,_=1024){const w=g+_;let y=g;for(;l[y]&&!(y>=w);)++y;if(y-g>16&&l.buffer&&c)return c.decode(l.subarray(g,y));let S="";for(;g<y;){let v=l[g++];if(!(v&128)){S+=String.fromCharCode(v);continue}const x=l[g++]&63;if((v&224)===192){S+=String.fromCharCode((v&31)<<6|x);continue}const N=l[g++]&63;if((v&240)===224?v=(v&15)<<12|x<<6|N:v=(v&7)<<18|x<<12|N<<6|l[g++]&63,v<65536)S+=String.fromCharCode(v);else{const R=v-65536;S+=String.fromCharCode(55296|R>>10,56320|R&1023)}}return S}function p(l,g){return l?u(n.HEAPU8,l,g):""}const f={emscripten_get_now:or,emscripten_memcpy_big:i,emscripten_resize_heap:o,fd_write:()=>0};async function C(){const g=await e({env:f,wasi_snapshot_preview1:f});t=g.memory,s(t.buffer),Object.assign(n,g),n.UTF8ToString=p}return await C(),n}var lr=Object.defineProperty,fr=(e,t,r)=>t in e?lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,L=(e,t,r)=>(fr(e,typeof t!="symbol"?t+"":t,r),r);let P=null;function pr(e){throw new qe(e.UTF8ToString(e.getLastOnigError()))}class Ie{constructor(t){L(this,"utf16Length"),L(this,"utf8Length"),L(this,"utf16Value"),L(this,"utf8Value"),L(this,"utf16OffsetToUtf8"),L(this,"utf8OffsetToUtf16");const r=t.length,n=Ie._utf8ByteLength(t),s=n!==r,i=s?new Uint32Array(r+1):null;s&&(i[r]=n);const a=s?new Uint32Array(n+1):null;s&&(a[n]=r);const o=new Uint8Array(n);let c=0;for(let u=0;u<r;u++){const p=t.charCodeAt(u);let f=p,C=!1;if(p>=55296&&p<=56319&&u+1<r){const l=t.charCodeAt(u+1);l>=56320&&l<=57343&&(f=(p-55296<<10)+65536|l-56320,C=!0)}s&&(i[u]=c,C&&(i[u+1]=c),f<=127?a[c+0]=u:f<=2047?(a[c+0]=u,a[c+1]=u):f<=65535?(a[c+0]=u,a[c+1]=u,a[c+2]=u):(a[c+0]=u,a[c+1]=u,a[c+2]=u,a[c+3]=u)),f<=127?o[c++]=f:f<=2047?(o[c++]=192|(f&1984)>>>6,o[c++]=128|(f&63)>>>0):f<=65535?(o[c++]=224|(f&61440)>>>12,o[c++]=128|(f&4032)>>>6,o[c++]=128|(f&63)>>>0):(o[c++]=240|(f&1835008)>>>18,o[c++]=128|(f&258048)>>>12,o[c++]=128|(f&4032)>>>6,o[c++]=128|(f&63)>>>0),C&&u++}this.utf16Length=r,this.utf8Length=n,this.utf16Value=t,this.utf8Value=o,this.utf16OffsetToUtf8=i,this.utf8OffsetToUtf16=a}static _utf8ByteLength(t){let r=0;for(let n=0,s=t.length;n<s;n++){const i=t.charCodeAt(n);let a=i,o=!1;if(i>=55296&&i<=56319&&n+1<s){const c=t.charCodeAt(n+1);c>=56320&&c<=57343&&(a=(i-55296<<10)+65536|c-56320,o=!0)}a<=127?r+=1:a<=2047?r+=2:a<=65535?r+=3:r+=4,o&&n++}return r}createString(t){const r=t.omalloc(this.utf8Length);return t.HEAPU8.set(this.utf8Value,r),r}}const W=class{constructor(e){if(L(this,"id",++W.LAST_ID),L(this,"_onigBinding"),L(this,"content"),L(this,"utf16Length"),L(this,"utf8Length"),L(this,"utf16OffsetToUtf8"),L(this,"utf8OffsetToUtf16"),L(this,"ptr"),!P)throw new qe("Must invoke loadWasm first.");this._onigBinding=P,this.content=e;const t=new Ie(e);this.utf16Length=t.utf16Length,this.utf8Length=t.utf8Length,this.utf16OffsetToUtf8=t.utf16OffsetToUtf8,this.utf8OffsetToUtf16=t.utf8OffsetToUtf16,this.utf8Length<1e4&&!W._sharedPtrInUse?(W._sharedPtr||(W._sharedPtr=P.omalloc(1e4)),W._sharedPtrInUse=!0,P.HEAPU8.set(t.utf8Value,W._sharedPtr),this.ptr=W._sharedPtr):this.ptr=t.createString(P)}convertUtf8OffsetToUtf16(e){return this.utf8OffsetToUtf16?e<0?0:e>this.utf8Length?this.utf16Length:this.utf8OffsetToUtf16[e]:e}convertUtf16OffsetToUtf8(e){return this.utf16OffsetToUtf8?e<0?0:e>this.utf16Length?this.utf8Length:this.utf16OffsetToUtf8[e]:e}dispose(){this.ptr===W._sharedPtr?W._sharedPtrInUse=!1:this._onigBinding.ofree(this.ptr)}};let _e=W;L(_e,"LAST_ID",0);L(_e,"_sharedPtr",0);L(_e,"_sharedPtrInUse",!1);class hr{constructor(t){if(L(this,"_onigBinding"),L(this,"_ptr"),!P)throw new qe("Must invoke loadWasm first.");const r=[],n=[];for(let o=0,c=t.length;o<c;o++){const u=new Ie(t[o]);r[o]=u.createString(P),n[o]=u.utf8Length}const s=P.omalloc(4*t.length);P.HEAPU32.set(r,s/4);const i=P.omalloc(4*t.length);P.HEAPU32.set(n,i/4);const a=P.createOnigScanner(s,i,t.length);for(let o=0,c=t.length;o<c;o++)P.ofree(r[o]);P.ofree(i),P.ofree(s),a===0&&pr(P),this._onigBinding=P,this._ptr=a}dispose(){this._onigBinding.freeOnigScanner(this._ptr)}findNextMatchSync(t,r,n){let s=0;if(typeof n=="number"&&(s=n),typeof t=="string"){t=new _e(t);const i=this._findNextMatchSync(t,r,!1,s);return t.dispose(),i}return this._findNextMatchSync(t,r,!1,s)}_findNextMatchSync(t,r,n,s){const i=this._onigBinding,a=i.findNextOnigScannerMatch(this._ptr,t.id,t.ptr,t.utf8Length,t.convertUtf16OffsetToUtf8(r),s);if(a===0)return null;const o=i.HEAPU32;let c=a/4;const u=o[c++],p=o[c++],f=[];for(let C=0;C<p;C++){const l=t.convertUtf8OffsetToUtf16(o[c++]),g=t.convertUtf8OffsetToUtf16(o[c++]);f[C]={start:l,end:g,length:g-l}}return{index:u,captureIndices:f}}}function gr(e){return typeof e.instantiator=="function"}function dr(e){return typeof e.default=="function"}function mr(e){return typeof e.data<"u"}function Cr(e){return typeof Response<"u"&&e instanceof Response}function _r(e){var t;return typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e))||typeof Buffer<"u"&&((t=Buffer.isBuffer)==null?void 0:t.call(Buffer,e))||typeof SharedArrayBuffer<"u"&&e instanceof SharedArrayBuffer||typeof Uint32Array<"u"&&e instanceof Uint32Array}let Ee;function wr(e){if(Ee)return Ee;async function t(){P=await ur(async r=>{let n=e;return n=await n,typeof n=="function"&&(n=await n(r)),typeof n=="function"&&(n=await n(r)),gr(n)?n=await n.instantiator(r):dr(n)?n=await n.default(r):(mr(n)&&(n=n.data),Cr(n)?typeof WebAssembly.instantiateStreaming=="function"?n=await yr(n)(r):n=await Er(n)(r):_r(n)?n=await Fe(n)(r):n instanceof WebAssembly.Module?n=await Fe(n)(r):"default"in n&&n.default instanceof WebAssembly.Module&&(n=await Fe(n.default)(r))),"instance"in n&&(n=n.instance),"exports"in n&&(n=n.exports),n})}return Ee=t(),Ee}function Fe(e){return t=>WebAssembly.instantiate(e,t)}function yr(e){return t=>WebAssembly.instantiateStreaming(e,t)}function Er(e){return async t=>{const r=await e.arrayBuffer();return WebAssembly.instantiate(r,t)}}async function kr(e){return e&&await wr(e),{createScanner(t){return new hr(t.map(r=>typeof r=="string"?r:r.source))},createString(t){return new _e(t)}}}const Ze=String.raw,ot=Ze`(?:\p{Emoji}\uFE0F\u20E3?|\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation})`,ct=Ze`\u{E0061}-\u{E007A}`,Ar=()=>new RegExp(Ze`[\u{1F1E6}-\u{1F1FF}]{2}|\u{1F3F4}[${ct}]{2}[\u{E0030}-\u{E0039}${ct}]{1,3}\u{E007F}|${ot}(?:\u200D${ot})*`,"gu"),br=String.raw`\(\?(?:[:=!>A-Za-z\-]|<[=!]|\(DEFINE\))`;function vr(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function Sr(e,t,r,n){return e.slice(0,t)+n+e.slice(t+r.length)}const V=Object.freeze({DEFAULT:"DEFAULT",CHAR_CLASS:"CHAR_CLASS"});function Ke(e,t,r,n){const s=new RegExp(String.raw`${t}|(?<$skip>\[\^?|\\?.)`,"gsu"),i=[!1];let a=0,o="";for(const c of e.matchAll(s)){const{0:u,groups:{$skip:p}}=c;if(!p&&(!n||n===V.DEFAULT==!a)){r instanceof Function?o+=r(c,{context:a?V.CHAR_CLASS:V.DEFAULT,negated:i[i.length-1]}):o+=r;continue}u[0]==="["?(a++,i.push(u[1]==="^")):u==="]"&&a&&(a--,i.pop()),o+=u}return o}function bt(e,t,r,n){Ke(e,t,r,n)}function Ir(e,t,r=0,n){if(!new RegExp(t,"su").test(e))return null;const s=new RegExp(`${t}|(?<$skip>\\\\?.)`,"gsu");s.lastIndex=r;let i=0,a;for(;a=s.exec(e);){const{0:o,groups:{$skip:c}}=a;if(!c&&(!n||n===V.DEFAULT==!i))return a;o==="["?i++:o==="]"&&i&&i--,s.lastIndex==a.index&&s.lastIndex++}return null}function ke(e,t,r){return!!Ir(e,t,0,r)}function xr(e,t){const r=/\\?./gsu;r.lastIndex=t;let n=e.length,s=0,i=1,a;for(;a=r.exec(e);){const[o]=a;if(o==="[")s++;else if(s)o==="]"&&s--;else if(o==="(")i++;else if(o===")"&&(i--,!i)){n=a.index;break}}return e.slice(t,n)}const ut=new RegExp(String.raw`(?<noncapturingStart>${br})|(?<capturingStart>\((?:\?<[^>]+>)?)|\\?.`,"gsu");function $r(e,t){const r=(t==null?void 0:t.hiddenCaptures)??[];let n=(t==null?void 0:t.captureTransfers)??new Map;if(!/\(\?>/.test(e))return{pattern:e,captureTransfers:n,hiddenCaptures:r};const s="(?>",i="(?:(?=(",a=[0],o=[];let c=0,u=0,p=NaN,f;do{f=!1;let C=0,l=0,g=!1,_;for(ut.lastIndex=Number.isNaN(p)?0:p+i.length;_=ut.exec(e);){const{0:w,index:y,groups:{capturingStart:S,noncapturingStart:v}}=_;if(w==="[")C++;else if(C)w==="]"&&C--;else if(w===s&&!g)p=y,g=!0;else if(g&&v)l++;else if(S)g?l++:(c++,a.push(c+u));else if(w===")"&&g){if(!l){u++;const x=c+u;if(e=`${e.slice(0,p)}${i}${e.slice(p+s.length,y)}))<$$${x}>)${e.slice(y+1)}`,f=!0,o.push(x),vr(r,x),n.size){const N=new Map;n.forEach((R,U)=>{N.set(U>=x?U+1:U,R.map(G=>G>=x?G+1:G))}),n=N}break}l--}}}while(f);return r.push(...o),e=Ke(e,String.raw`\\(?<backrefNum>[1-9]\d*)|<\$\$(?<wrappedBackrefNum>\d+)>`,({0:C,groups:{backrefNum:l,wrappedBackrefNum:g}})=>{if(l){const _=+l;if(_>a.length-1)throw new Error(`Backref "${C}" greater than number of captures`);return`\\${a[_]}`}return`\\${g}`},V.DEFAULT),{pattern:e,captureTransfers:n,hiddenCaptures:r}}const vt=String.raw`(?:[?*+]|\{\d+(?:,\d*)?\})`,Ne=new RegExp(String.raw`
\\(?: \d+
  | c[A-Za-z]
  | [gk]<[^>]+>
  | [pPu]\{[^\}]+\}
  | u[A-Fa-f\d]{4}
  | x[A-Fa-f\d]{2}
  )
| \((?: \? (?: [:=!>]
  | <(?:[=!]|[^>]+>)
  | [A-Za-z\-]+:
  | \(DEFINE\)
  ))?
| (?<qBase>${vt})(?<qMod>[?+]?)(?<invalidQ>[?*+\{]?)
| \\?.
`.replace(/\s+/g,""),"gsu");function Lr(e){if(!new RegExp(`${vt}\\+`).test(e))return{pattern:e};const t=[];let r=null,n=null,s="",i=0,a;for(Ne.lastIndex=0;a=Ne.exec(e);){const{0:o,index:c,groups:{qBase:u,qMod:p,invalidQ:f}}=a;if(o==="[")i||(n=c),i++;else if(o==="]")i?i--:n=null;else if(!i)if(p==="+"&&s&&!s.startsWith("(")){if(f)throw new Error(`Invalid quantifier "${o}"`);let C=-1;if(/^\{\d+\}$/.test(u))e=Sr(e,c+u.length,p,"");else{if(s===")"||s==="]"){const l=s===")"?r:n;if(l===null)throw new Error(`Invalid unmatched "${s}"`);e=`${e.slice(0,l)}(?>${e.slice(l,c)}${u})${e.slice(c+o.length)}`}else e=`${e.slice(0,c-s.length)}(?>${s}${u})${e.slice(c+o.length)}`;C+=4}Ne.lastIndex+=C}else o[0]==="("?t.push(c):o===")"&&(r=t.length?t.pop():null);s=o}return{pattern:e}}const B=String.raw,Tr=B`\\g<(?<gRNameOrNum>[^>&]+)&R=(?<gRDepth>[^>]+)>`,He=B`\(\?R=(?<rDepth>[^\)]+)\)|${Tr}`,xe=B`\(\?<(?![=!])(?<captureName>[^>]+)>`,St=B`${xe}|(?<unnamed>\()(?!\?)`,ie=new RegExp(B`${xe}|${He}|\(\?|\\?.`,"gsu"),Me="Cannot use multiple overlapping recursions";function Pr(e,t){const{hiddenCaptures:r,mode:n}={hiddenCaptures:[],mode:"plugin",...t};let s=(t==null?void 0:t.captureTransfers)??new Map;if(!new RegExp(He,"su").test(e))return{pattern:e,captureTransfers:s,hiddenCaptures:r};if(n==="plugin"&&ke(e,B`\(\?\(DEFINE\)`,V.DEFAULT))throw new Error("DEFINE groups cannot be used with recursion");const i=[],a=ke(e,B`\\[1-9]`,V.DEFAULT),o=new Map,c=[];let u=!1,p=0,f=0,C;for(ie.lastIndex=0;C=ie.exec(e);){const{0:l,groups:{captureName:g,rDepth:_,gRNameOrNum:w,gRDepth:y}}=C;if(l==="[")p++;else if(p)l==="]"&&p--;else if(_){if(lt(_),u)throw new Error(Me);if(a)throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with global recursion`);const S=e.slice(0,C.index),v=e.slice(ie.lastIndex);if(ke(v,He,V.DEFAULT))throw new Error(Me);const x=+_-1;e=ft(S,v,x,!1,r,i,f),s=ht(s,S,x,i.length,0,f);break}else if(w){lt(y);let S=!1;for(const D of c)if(D.name===w||D.num===+w){if(S=!0,D.hasRecursedWithin)throw new Error(Me);break}if(!S)throw new Error(B`Recursive \g cannot be used outside the referenced group "${n==="external"?w:B`\g<${w}&R=${y}>`}"`);const v=o.get(w),x=xr(e,v);if(a&&ke(x,B`${xe}|\((?!\?)`,V.DEFAULT))throw new Error(`${n==="external"?"Backrefs":"Numbered backrefs"} cannot be used with recursion of capturing groups`);const N=e.slice(v,C.index),R=x.slice(N.length+l.length),U=i.length,G=+y-1,K=ft(N,R,G,!0,r,i,f);s=ht(s,N,G,i.length-U,U,f);const J=e.slice(0,v),ue=e.slice(v+x.length);e=`${J}${K}${ue}`,ie.lastIndex+=K.length-l.length-N.length-R.length,c.forEach(D=>D.hasRecursedWithin=!0),u=!0}else if(g)f++,o.set(String(f),ie.lastIndex),o.set(g,ie.lastIndex),c.push({num:f,name:g});else if(l[0]==="("){const S=l==="(";S&&(f++,o.set(String(f),ie.lastIndex)),c.push(S?{num:f}:{})}else l===")"&&c.pop()}return r.push(...i),{pattern:e,captureTransfers:s,hiddenCaptures:r}}function lt(e){const t=`Max depth must be integer between 2 and 100; used ${e}`;if(!/^[1-9]\d*$/.test(e))throw new Error(t);if(e=+e,e<2||e>100)throw new Error(t)}function ft(e,t,r,n,s,i,a){const o=new Set;n&&bt(e+t,xe,({groups:{captureName:u}})=>{o.add(u)},V.DEFAULT);const c=[r,n?o:null,s,i,a];return`${e}${pt(`(?:${e}`,"forward",...c)}(?:)${pt(`${t})`,"backward",...c)}${t}`}function pt(e,t,r,n,s,i,a){const c=p=>t==="forward"?p+2:r-p+2-1;let u="";for(let p=0;p<r;p++){const f=c(p);u+=Ke(e,B`${St}|\\k<(?<backref>[^>]+)>`,({0:C,groups:{captureName:l,unnamed:g,backref:_}})=>{if(_&&n&&!n.has(_))return C;const w=`_$${f}`;if(g||l){const y=a+i.length+1;return i.push(y),Or(s,y),g?C:`(?<${l}${w}>`}return B`\k<${_}${w}>`},V.DEFAULT)}return u}function Or(e,t){for(let r=0;r<e.length;r++)e[r]>=t&&e[r]++}function ht(e,t,r,n,s,i){if(e.size&&n){let a=0;bt(t,St,()=>a++,V.DEFAULT);const o=i-a+s,c=new Map;return e.forEach((u,p)=>{const f=(n-a*r)/r,C=a*r,l=p>o+a?p+n:p,g=[];for(const _ of u)if(_<=o)g.push(_);else if(_>o+a+f)g.push(_+n);else if(_<=o+a)for(let w=0;w<=r;w++)g.push(_+a*w);else for(let w=0;w<=r;w++)g.push(_+C+f*w);c.set(l,g)}),c}return e}var T=String.fromCodePoint,d=String.raw,he={flagGroups:(()=>{try{new RegExp("(?i:)")}catch{return!1}return!0})(),unicodeSets:(()=>{try{new RegExp("","v")}catch{return!1}return!0})()};he.literalHyphenIncorrectlyCreatesRange=(()=>{if(!he.unicodeSets)return!1;try{new RegExp(d`[\d\-a]`,"v")}catch{return!0}return!1})();function ve(e,{enable:t,disable:r}){return{dotAll:!(r!=null&&r.dotAll)&&!!(t!=null&&t.dotAll||e.dotAll),ignoreCase:!(r!=null&&r.ignoreCase)&&!!(t!=null&&t.ignoreCase||e.ignoreCase)}}function ge(e,t,r){return e.has(t)||e.set(t,r),e.get(t)}function je(e,t){return gt[e]>=gt[t]}function Q(e,t){if(!e)throw new Error(t??"Value expected");return e}var gt={ES2025:2025,ES2024:2024,ES2018:2018},Rr={auto:"auto",ES2025:"ES2025",ES2024:"ES2024",ES2018:"ES2018"};function It(e){if((e==null?void 0:e.target)!==void 0&&!Rr[e.target])throw new Error(`Unexpected target "${e.target}"`);const t={accuracy:"default",avoidSubclass:!1,flags:"",global:!1,hasIndices:!1,lazyCompileLength:1/0,target:"auto",verbose:!1,...e,rules:{allowOrphanBackrefs:!1,asciiWordBoundaries:!1,captureGroup:!1,recursionLimit:20,singleline:!1,...e==null?void 0:e.rules}};return t.target==="auto"&&(t.target=he.flagGroups?"ES2025":he.unicodeSets?"ES2024":"ES2018"),t}var Fr=new Set([T(304),T(305)]);function xt(e){if(Fr.has(e))return[e];const t=new Set,r=e.toLowerCase(),n=r.toUpperCase(),s=Gr.get(r),i=Mr.get(r),a=Ur.get(r);return[...n].length===1&&t.add(n),a&&t.add(a),s&&t.add(s),t.add(r),i&&t.add(i),[...t]}var $t=new Set(`C Other
Cc Control cntrl
Cf Format
Cn Unassigned
Co Private_Use
Cs Surrogate
L Letter
LC Cased_Letter
Ll Lowercase_Letter
Lm Modifier_Letter
Lo Other_Letter
Lt Titlecase_Letter
Lu Uppercase_Letter
M Mark Combining_Mark
Mc Spacing_Mark
Me Enclosing_Mark
Mn Nonspacing_Mark
N Number
Nd Decimal_Number digit
Nl Letter_Number
No Other_Number
P Punctuation punct
Pc Connector_Punctuation
Pd Dash_Punctuation
Pe Close_Punctuation
Pf Final_Punctuation
Pi Initial_Punctuation
Po Other_Punctuation
Ps Open_Punctuation
S Symbol
Sc Currency_Symbol
Sk Modifier_Symbol
Sm Math_Symbol
So Other_Symbol
Z Separator
Zl Line_Separator
Zp Paragraph_Separator
Zs Space_Separator
ASCII
ASCII_Hex_Digit AHex
Alphabetic Alpha
Any
Assigned
Bidi_Control Bidi_C
Bidi_Mirrored Bidi_M
Case_Ignorable CI
Cased
Changes_When_Casefolded CWCF
Changes_When_Casemapped CWCM
Changes_When_Lowercased CWL
Changes_When_NFKC_Casefolded CWKCF
Changes_When_Titlecased CWT
Changes_When_Uppercased CWU
Dash
Default_Ignorable_Code_Point DI
Deprecated Dep
Diacritic Dia
Emoji
Emoji_Component EComp
Emoji_Modifier EMod
Emoji_Modifier_Base EBase
Emoji_Presentation EPres
Extended_Pictographic ExtPict
Extender Ext
Grapheme_Base Gr_Base
Grapheme_Extend Gr_Ext
Hex_Digit Hex
IDS_Binary_Operator IDSB
IDS_Trinary_Operator IDST
ID_Continue IDC
ID_Start IDS
Ideographic Ideo
Join_Control Join_C
Logical_Order_Exception LOE
Lowercase Lower
Math
Noncharacter_Code_Point NChar
Pattern_Syntax Pat_Syn
Pattern_White_Space Pat_WS
Quotation_Mark QMark
Radical
Regional_Indicator RI
Sentence_Terminal STerm
Soft_Dotted SD
Terminal_Punctuation Term
Unified_Ideograph UIdeo
Uppercase Upper
Variation_Selector VS
White_Space space
XID_Continue XIDC
XID_Start XIDS`.split(/\s/)),Lt=new Map;for(const e of $t)Lt.set($e(e),e);var Nr=new Set(["Basic_Emoji","Emoji_Keycap_Sequence","RGI_Emoji","RGI_Emoji_Flag_Sequence","RGI_Emoji_Modifier_Sequence","RGI_Emoji_Tag_Sequence","RGI_Emoji_ZWJ_Sequence"]),Tt=new Map;for(const e of Nr)Tt.set($e(e),e);var Mr=new Map([["s",T(383)],[T(383),"s"]]),Ur=new Map([[T(223),T(7838)],[T(107),T(8490)],[T(229),T(8491)],[T(969),T(8486)]]),Gr=new Map([Y(453),Y(456),Y(459),Y(498),...Ue(8072,8079),...Ue(8088,8095),...Ue(8104,8111),Y(8124),Y(8140),Y(8188)]),Pt=new Map([["alnum",d`[\p{Alpha}\p{Nd}]`],["alpha",d`\p{Alpha}`],["ascii",d`\p{ASCII}`],["blank",d`[\p{Zs}\t]`],["cntrl",d`\p{cntrl}`],["digit",d`\p{Nd}`],["graph",d`[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]`],["lower",d`\p{Lower}`],["print",d`[[\P{space}&&\P{cntrl}&&\P{Cn}&&\P{Cs}]\p{Zs}]`],["punct",d`[\p{P}\p{S}]`],["space",d`\p{space}`],["upper",d`\p{Upper}`],["word",d`[\p{Alpha}\p{M}\p{Nd}\p{Pc}]`],["xdigit",d`\p{AHex}`]]),Dr=new Set(["alnum","blank","graph","print","word","xdigit"]);function Br(e,t){const r=[];for(let n=e;n<=t;n++)r.push(n);return r}function $e(e){return e.replace(/[- _]+/g,"").toLowerCase()}function Y(e){const t=T(e);return[t.toLowerCase(),t]}function Ue(e,t){return Br(e,t).map(r=>Y(r))}var Ot=new Set(["Lower","Lowercase","Upper","Uppercase","Ll","Lowercase_Letter","Lt","Titlecase_Letter","Lu","Uppercase_Letter"]),m={Alternator:"Alternator",Assertion:"Assertion",Backreference:"Backreference",Character:"Character",CharacterClassClose:"CharacterClassClose",CharacterClassHyphen:"CharacterClassHyphen",CharacterClassIntersector:"CharacterClassIntersector",CharacterClassOpen:"CharacterClassOpen",CharacterSet:"CharacterSet",Directive:"Directive",GroupClose:"GroupClose",GroupOpen:"GroupOpen",Subroutine:"Subroutine",Quantifier:"Quantifier",VariableLengthCharacterSet:"VariableLengthCharacterSet",EscapedNumber:"EscapedNumber"},O={any:"any",digit:"digit",dot:"dot",hex:"hex",non_newline:"non_newline",posix:"posix",property:"property",space:"space",word:"word"},Le={flags:"flags",keep:"keep"},F={absent_repeater:"absent_repeater",atomic:"atomic",capturing:"capturing",group:"group",lookahead:"lookahead",lookbehind:"lookbehind"},dt=new Map([["a",7],["b",8],["e",27],["f",12],["n",10],["r",13],["t",9],["v",11]]),Rt=d`\[\^?`,Ft=`c.? | C(?:-.?)?|${d`[pP]\{(?:\^?[-\x20_]*[A-Za-z][-\x20\w]*\})?`}|${d`x[89A-Fa-f]\p{AHex}(?:\\x[89A-Fa-f]\p{AHex})*`}|${d`u(?:\p{AHex}{4})? | x\{[^\}]*\}? | x\p{AHex}{0,2}`}|${d`o\{[^\}]*\}?`}|${d`\d{1,3}`}`,Nt=/[?*+][?+]?|\{(?:\d+(?:,\d*)?|,\d+)\}\??/,Ae=new RegExp(d`
  \\ (?:
    ${Ft}
    | [gk]<[^>]*>?
    | [gk]'[^']*'?
    | .
  )
  | \( (?:
    \? (?:
      [:=!>({]
      | <[=!]
      | <[^>]*>
      | '[^']*'
      | ~\|?
      | #(?:[^)\\]|\\.?)*
      | [^:)]*[:)]
    )?
    | \*
  )?
  | ${Nt.source}
  | ${Rt}
  | .
`.replace(/\s+/g,""),"gsu"),Ge=new RegExp(d`
  \\ (?:
    ${Ft}
    | .
  )
  | \[:(?:\^?\p{Alpha}+|\^):\]
  | ${Rt}
  | &&
  | .
`.replace(/\s+/g,""),"gsu");function Mt(e,t="",r){if(r={captureGroup:!1,singleline:!1,...r},typeof e!="string")throw new Error("String expected as pattern");if(!/^[imxDSW]*$/.test(t))throw new Error(`Flags "${t}" includes unsupported value`);const n=t.includes("x"),s=[n],i={captureGroup:r.captureGroup,getCurrentModX:()=>s.at(-1),numOpenGroups:0,popModX(){s.pop()},pushModX(f){s.push(f)},replaceCurrentModX(f){s[s.length-1]=f},singleline:r.singleline};let a=[],o;for(Ae.lastIndex=0;o=Ae.exec(e);){const f=Vr(i,e,o[0],Ae.lastIndex);f.tokens?a.push(...f.tokens):f.token&&a.push(f.token),f.lastIndex!==void 0&&(Ae.lastIndex=f.lastIndex)}const c=[];let u=0;a.forEach(f=>{f.type===m.GroupOpen&&(f.kind===F.capturing?f.number=++u:f.raw==="("&&c.push(f))}),u||c.forEach((f,C)=>{f.kind=F.capturing,f.number=C+1});const p=u||c.length;return a=a.map(f=>f.type===m.EscapedNumber?Kr(f,p):f).flat(),{tokens:a,flags:{ignoreCase:t.includes("i"),dotAll:t.includes("m"),extended:n,digitIsAscii:t.includes("D"),spaceIsAscii:t.includes("S"),wordIsAscii:t.includes("W")},rules:r}}function Vr(e,t,r,n){const[s,i]=r;if(s==="["){const a=Hr(t,r,n);return{tokens:a.tokens,lastIndex:a.lastIndex}}if(s==="\\"){if("AbBGzZ".includes(i))return{token:E(m.Assertion,r,{kind:r})};if(/^\\g[<']/.test(r)){if(!/^\\g(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:E(m.Subroutine,r)}}if(/^\\k[<']/.test(r)){if(!/^\\k(?:<[^>]+>|'[^']+')$/.test(r))throw new Error(`Invalid group name "${r}"`);return{token:E(m.Backreference,r)}}if(i==="K")return{token:E(m.Directive,r,{kind:Le.keep})};if(i==="N")return{token:E(m.CharacterSet,r,{kind:O.non_newline})};if(i==="O")return{token:E(m.CharacterSet,r,{kind:O.any})};if("RX".includes(i))return{token:E(m.VariableLengthCharacterSet,r,{kind:r})};if("yY".includes(i))throw new Error(`Unsupported grapheme boundary "${r}"`);const a=Ut(r,{inCharClass:!1});return Array.isArray(a)?{tokens:a}:{token:a}}if(s==="("){if(r==="(*")throw new Error(`Unsupported named callout "${r}"`);if(r==="(?{")throw new Error(`Unsupported callout "${r}"`);if(r==="(?#"){if(t[n]!==")")throw new Error('Unclosed comment group "(?#"');return{lastIndex:n+1}}if(/^\(\?[-imx]+[:)]$/.test(r))return{token:zr(r,e)};if(e.pushModX(e.getCurrentModX()),e.numOpenGroups++,r==="("&&!e.captureGroup||r==="(?:")return{token:E(m.GroupOpen,r,{kind:F.group})};if(r==="(?>")return{token:E(m.GroupOpen,r,{kind:F.atomic})};if(r==="(?="||r==="(?!"||r==="(?<="||r==="(?<!")return{token:E(m.GroupOpen,r,{kind:r[2]==="<"?F.lookbehind:F.lookahead,negate:r.endsWith("!")})};if(r==="("&&e.captureGroup||r.startsWith("(?<")&&r.endsWith(">")||r.startsWith("(?'")&&r.endsWith("'")){const a=E(m.GroupOpen,r,{kind:F.capturing});return r!=="("&&(a.name=r.slice(3,-1)),{token:a}}if(r.startsWith("(?~")){if(r==="(?~|")throw new Error(`Unsupported absent function kind "${r}"`);return{token:E(m.GroupOpen,r,{kind:F.absent_repeater})}}throw r==="(?("?new Error(`Unsupported conditional "${r}"`):new Error(`Invalid or unsupported group option "${r}"`)}if(r===")"){if(e.popModX(),e.numOpenGroups--,e.numOpenGroups<0)throw new Error('Unmatched ")"');return{token:E(m.GroupClose,r)}}if(r==="#"&&e.getCurrentModX()){const a=t.indexOf(`
`,n);return{lastIndex:a===-1?t.length:a}}if(/^\s$/.test(r)&&e.getCurrentModX()){const a=/\s+/y;return a.lastIndex=n,{lastIndex:a.exec(t)?a.lastIndex:n}}if(r===".")return{token:E(m.CharacterSet,r,{kind:O.dot})};if(r==="^"||r==="$"){const a=e.singleline?{"^":d`\A`,$:d`\Z`}[r]:r;return{token:E(m.Assertion,r,{kind:a})}}return r==="|"?{token:E(m.Alternator,r)}:Nt.test(r)?{token:Qr(r)}:(Gt(r),{token:E(m.Character,r,{value:r.codePointAt(0)})})}function Hr(e,t,r){const n=[E(m.CharacterClassOpen,t,{negate:t[1]==="^"})];let s=1,i;for(Ge.lastIndex=r;i=Ge.exec(e);){const a=i[0];if(a[0]==="["&&a[1]!==":")s++,n.push(E(m.CharacterClassOpen,a,{negate:a[1]==="^"}));else if(a==="]"){if(n.at(-1).type===m.CharacterClassOpen)n.push(E(m.Character,a,{value:93}));else if(s--,n.push(E(m.CharacterClassClose,a)),!s)break}else{const o=jr(a);Array.isArray(o)?n.push(...o):n.push(o)}}return{tokens:n,lastIndex:Ge.lastIndex||e.length}}function jr(e){if(e[0]==="\\")return Ut(e,{inCharClass:!0});if(e[0]==="["){const t=/\[:(?<negate>\^?)(?<name>[a-z]+):\]/.exec(e);if(!t||!Pt.get(t.groups.name))throw new Error(`Invalid POSIX class "${e}"`);return E(m.CharacterSet,e,{kind:O.posix,negate:!!t.groups.negate,value:t.groups.name})}return e==="-"?E(m.CharacterClassHyphen,e):e==="&&"?E(m.CharacterClassIntersector,e):(Gt(e),E(m.Character,e,{value:e.codePointAt(0)}))}function Ut(e,{inCharClass:t}){const r=e[1];if(r==="c"||r==="C")return Wr(e);if("dDhHsSwW".includes(r))return Xr(e);if(e.startsWith(d`\o{`))throw new Error(`Incomplete, invalid, or unsupported octal code point "${e}"`);if(/^\\[pP]\{/.test(e)){if(e.length===3)throw new Error(`Incomplete or invalid Unicode property "${e}"`);return qr(e)}if(new RegExp("^\\\\x[89A-Fa-f]\\p{AHex}","u").test(e))try{const n=e.split(/\\x/).slice(1).map(o=>parseInt(o,16)),s=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}).decode(new Uint8Array(n)),i=new TextEncoder;return[...s].map(o=>{const c=[...i.encode(o)].map(u=>`\\x${u.toString(16)}`).join("");return E(m.Character,c,{value:o.codePointAt(0)})})}catch{throw new Error(`Multibyte code "${e}" incomplete or invalid in Oniguruma`)}if(r==="u"||r==="x")return E(m.Character,e,{value:Zr(e)});if(dt.has(r))return E(m.Character,e,{value:dt.get(r)});if(/\d/.test(r))return E(m.EscapedNumber,e,{inCharClass:t});if(e==="\\")throw new Error(d`Incomplete escape "\"`);if(r==="M")throw new Error(`Unsupported meta "${e}"`);if([...e].length===2)return E(m.Character,e,{value:e.codePointAt(1)});throw new Error(`Unexpected escape "${e}"`)}function E(e,t,r){return{type:e,raw:t,...r}}function Wr(e){const t=e[1]==="c"?e[2]:e[3];if(!t||!/[A-Za-z]/.test(t))throw new Error(`Unsupported control character "${e}"`);return E(m.Character,e,{value:t.toUpperCase().codePointAt(0)-64})}function zr(e,t){let{on:r,off:n}=/^\(\?(?<on>[imx]*)(?:-(?<off>[-imx]*))?/.exec(e).groups;n??(n="");const s=(t.getCurrentModX()||r.includes("x"))&&!n.includes("x"),i=mt(r),a=mt(n),o={};if(i&&(o.enable=i),a&&(o.disable=a),e.endsWith(")"))return t.replaceCurrentModX(s),E(m.Directive,e,{kind:Le.flags,flags:o});if(e.endsWith(":")){t.pushModX(s),t.numOpenGroups++;const c=E(m.GroupOpen,e,{kind:F.group});return(i||a)&&(c.flags=o),c}throw new Error(`Unexpected flag modifier "${e}"`)}function Qr(e){const t={};if(e[0]==="{"){const{min:r,max:n}=/^\{(?<min>\d*)(?:,(?<max>\d*))?/.exec(e).groups,s=1e5;if(+r>s||+n>s)throw new Error("Quantifier value unsupported in Oniguruma");t.min=+r,t.max=n===void 0?+r:n===""?1/0:+n,t.greedy=!e.endsWith("?"),t.possessive=!1}else t.min=e[0]==="+"?1:0,t.max=e[0]==="?"?1:1/0,t.greedy=e[1]!=="?",t.possessive=e[1]==="+";return E(m.Quantifier,e,t)}function Xr(e){const t=e[1].toLowerCase();return E(m.CharacterSet,e,{kind:{d:O.digit,h:O.hex,s:O.space,w:O.word}[t],negate:e[1]!==t})}function qr(e){const{p:t,neg:r,value:n}=/^\\(?<p>[pP])\{(?<neg>\^?)(?<value>[^}]+)/.exec(e).groups,s=t==="P"&&!r||t==="p"&&!!r;return E(m.CharacterSet,e,{kind:O.property,negate:s,value:n})}function mt(e){const t={};return e.includes("i")&&(t.ignoreCase=!0),e.includes("m")&&(t.dotAll=!0),e.includes("x")&&(t.extended=!0),Object.keys(t).length?t:null}function Zr(e){if(new RegExp("^(?:\\\\u(?!\\p{AHex}{4})|\\\\x(?!\\p{AHex}{1,2}|\\{\\p{AHex}{1,8}\\}))","u").test(e))throw new Error(`Incomplete or invalid escape "${e}"`);const t=e[2]==="{"?new RegExp("^\\\\x\\{\\s*(?<hex>\\p{AHex}+)","u").exec(e).groups.hex:e.slice(2);return parseInt(t,16)}function Kr(e,t){const{raw:r,inCharClass:n}=e,s=r.slice(1);if(!n&&(s!=="0"&&s.length===1||s[0]!=="0"&&+s<=t))return[E(m.Backreference,r)];const i=[],a=s.match(/^[0-7]+|\d/g);for(let o=0;o<a.length;o++){const c=a[o];let u;if(o===0&&c!=="8"&&c!=="9"){if(u=parseInt(c,8),u>127)throw new Error(d`Octal encoded byte above 177 unsupported "${r}"`)}else u=c.codePointAt(0);i.push(E(m.Character,(o===0?"\\":"")+c,{value:u}))}return i}function Gt(e){if([...e].length!==1)throw new Error(`Expected "${e}" to be a single code point`)}function Je({alternatives:e},t){return e.length===1&&e[0].elements.length===1&&(!t||t(e[0].elements[0]))}function Jr({type:e}){return e===h.Assertion||e===h.Directive}function Yr(e){const t=[h.Character,h.CharacterClass,h.CharacterSet];return t.includes(e.type)||e.type===h.Quantifier&&e.min&&t.includes(e.element.type)}function Dt({type:e}){return e===h.CapturingGroup||e===h.Group}function we({type:e,kind:t}){return e===h.Assertion&&(t===k.lookahead||t===k.lookbehind)}function pe(e,t,r){let n=e.node;for(;n.parent;)n=n.parent;function s(a,o){for(let c=0;c<a.length;c++){const u=i(a[c],o,c,a);c=Math.max(-1,c+u)}}function i(a,o=null,c=null,u=null){let p=0,f=!1;const C={node:a,parent:o,key:c,container:u,ast:n,remove(){Q(u,"Container expected").splice(Math.max(0,c+p),1),p-=1},removeAllNextSiblings(){return Q(u,"Container expected").splice(c+1)},removeAllPrevSiblings(){const y=c+p;return p-=y,Q(u,"Container expected").splice(0,Math.max(0,y))},replaceWith(y){tn(y,o),u?u[Math.max(0,c+p)]=y:o[c]=y},skip(){f=!0}},l=en(a).find(y=>!!r[y]),g=l&&r[l],_=typeof g=="function"?g:g==null?void 0:g.enter,w=g==null?void 0:g.exit;if(_==null||_(C,t),!f)switch(a.type){case h.Regex:i(a.pattern,a,"pattern"),i(a.flags,a,"flags");break;case h.Alternative:case h.CharacterClass:s(a.elements,a);break;case h.Assertion:we(a)&&s(a.alternatives,a);break;case h.Backreference:case h.Character:case h.CharacterSet:case h.Directive:case h.Flags:case h.Recursion:case h.Subroutine:case h.VariableLengthCharacterSet:break;case h.AbsentFunction:case h.CapturingGroup:case h.Group:case h.Pattern:s(a.alternatives,a);break;case h.CharacterClassIntersection:s(a.classes,a);break;case h.CharacterClassRange:i(a.min,a,"min"),i(a.max,a,"max");break;case h.Quantifier:i(a.element,a,"element");break;default:throw new Error(`Unexpected node type "${a.type}"`)}return w==null||w(C,t),p}i(e.node,e.parent,e.key,e.container)}var Ct={AnyGroup:"AnyGroup",AnyNode:"AnyNode"};function en(e){const t=[Ct.AnyNode];return(Dt(e)||we(e))&&t.push(Ct.AnyGroup),t.push(e.type),t}function tn(e,t){"parent"in t&&(e.parent=t)}var h={AbsentFunction:"AbsentFunction",Alternative:"Alternative",Assertion:"Assertion",Backreference:"Backreference",CapturingGroup:"CapturingGroup",Character:"Character",CharacterClass:"CharacterClass",CharacterClassIntersection:"CharacterClassIntersection",CharacterClassRange:"CharacterClassRange",CharacterSet:"CharacterSet",Directive:"Directive",Flags:"Flags",Group:"Group",Pattern:"Pattern",Quantifier:"Quantifier",Regex:"Regex",Subroutine:"Subroutine",VariableLengthCharacterSet:"VariableLengthCharacterSet",Recursion:"Recursion"},rn={repeater:"repeater"},k={line_end:"line_end",line_start:"line_start",lookahead:"lookahead",lookbehind:"lookbehind",search_start:"search_start",string_end:"string_end",string_end_newline:"string_end_newline",string_start:"string_start",word_boundary:"word_boundary"},I=O,be=Le,Se={grapheme:"grapheme",newline:"newline"};function Bt({tokens:e,flags:t,rules:r},n){const s={skipBackrefValidation:!1,skipLookbehindValidation:!1,skipPropertyNameValidation:!1,verbose:!1,...n},i={capturingGroups:[],current:0,hasNumberedRef:!1,namedGroupsByName:new Map,parent:null,skipBackrefValidation:s.skipBackrefValidation,skipLookbehindValidation:s.skipLookbehindValidation,skipPropertyNameValidation:s.skipPropertyNameValidation,subroutines:[],token:null,tokens:e,verbose:s.verbose,walk:a};function a(l,g){const _=e[i.current];switch(i.parent=l,i.token=_,i.current++,_.type){case m.Alternator:return ne();case m.Assertion:return pn(_);case m.Backreference:return nn(i);case m.Character:return Ye(_.value,{useLastValid:!!g.isCheckingRangeEnd});case m.CharacterClassHyphen:return sn(i,g);case m.CharacterClassOpen:return an(i,g);case m.CharacterSet:return on(i);case m.Directive:return mn(_);case m.GroupOpen:return cn(i,g);case m.Quantifier:return un(i);case m.Subroutine:return ln(i);case m.VariableLengthCharacterSet:return En(_.kind);default:throw new Error(`Unexpected token type "${_.type}"`)}}const o=wn(_n(),Cn(t));let c=o.pattern.alternatives[0];for(;i.current<e.length;){const l=a(c,{});l.type===h.Alternative?(o.pattern.alternatives.push(l),c=l):c.elements.push(l)}const{capturingGroups:u,hasNumberedRef:p,namedGroupsByName:f,subroutines:C}=i;if(p&&f.size&&!r.captureGroup)throw new Error("Numbered backref/subroutine not allowed when using named capture");for(const{ref:l}of C)if(typeof l=="number"){if(l>u.length)throw new Error("Subroutine uses a group number that's not defined")}else if(f.has(l)){if(f.get(l).length>1)throw new Error(d`Subroutine uses a duplicate group name "\g<${l}>"`)}else throw new Error(d`Subroutine uses a group name that's not defined "\g<${l}>"`);return pe({node:o},null,{AnyNode({node:l,parent:g}){l.parent=g}}),o}function nn(e){const{raw:t}=e.token,r=/^\\k[<']/.test(t),n=r?t.slice(3,-1):t.slice(1),s=(i,a=!1)=>{const o=e.capturingGroups.length;let c=!1;if(i>o)if(e.skipBackrefValidation)c=!0;else throw new Error(`Not enough capturing groups defined to the left "${t}"`);return e.hasNumberedRef=!0,We(a?o+1-i:i,{orphan:c})};if(r){const i=/^(?<sign>-?)0*(?<num>[1-9]\d*)$/.exec(n);if(i)return s(+i.groups.num,!!i.groups.sign);if(/[-+]/.test(n))throw new Error(`Invalid backref name "${t}"`);if(!e.namedGroupsByName.has(n))throw new Error(`Group name not defined to the left "${t}"`);return We(n)}return s(+n)}function sn(e,t){const{parent:r,tokens:n,walk:s}=e,i=r.elements.at(-1),a=n[e.current];if(!t.isCheckingRangeEnd&&i&&i.type!==h.CharacterClass&&i.type!==h.CharacterClassRange&&a&&a.type!==m.CharacterClassOpen&&a.type!==m.CharacterClassClose&&a.type!==m.CharacterClassIntersector){const o=s(r,{...t,isCheckingRangeEnd:!0});if(i.type===h.Character&&o.type===h.Character)return r.elements.pop(),dn(i,o);throw new Error("Invalid character class range")}return Ye(45)}function an(e,t){const{token:r,tokens:n,verbose:s,walk:i}=e,a=n[e.current];let o=ze({negate:r.negate});const c=o.elements[0];let u=_t(a);for(;u.type!==m.CharacterClassClose;){if(u.type===m.CharacterClassIntersector)c.classes.push(ze({negate:!1,baseOnly:!0})),e.current++;else{const p=c.classes.at(-1);p.elements.push(i(p,t))}u=_t(n[e.current],a)}if(s||vn(c),c.classes.length===1){const p=c.classes[0];p.negate=o.negate!==p.negate,o=p}return e.current++,o}function on({token:e,skipPropertyNameValidation:t}){let{kind:r,negate:n,value:s}=e;if(r===O.property){const i=$e(s);if(Dr.has(i))r=O.posix,s=i;else return le(s,{negate:n,skipPropertyNameValidation:t})}return r===O.posix?{type:h.CharacterSet,kind:I.posix,negate:n,value:s}:Qe(r,{negate:n})}function cn(e,t){const{token:r,tokens:n,capturingGroups:s,namedGroupsByName:i,skipLookbehindValidation:a,verbose:o,walk:c}=e;let u=hn(r);const p=u.type===h.AbsentFunction,f=u.kind===k.lookbehind,C=f&&u.negate;if(u.type===h.CapturingGroup&&(s.push(u),u.name&&ge(i,u.name,[]).push(u)),p&&t.isInAbsentFunction)throw new Error("Nested absent function not supported by Oniguruma");let l=wt(n[e.current]);for(;l.type!==m.GroupClose;){if(l.type===m.Alternator)u.alternatives.push(ne()),e.current++;else{const g=u.alternatives.at(-1),_=c(g,{...t,isInAbsentFunction:t.isInAbsentFunction||p,isInLookbehind:t.isInLookbehind||f,isInNegLookbehind:t.isInNegLookbehind||C});if(g.elements.push(_),(f||t.isInLookbehind)&&!a){const w="Lookbehind includes a pattern not allowed by Oniguruma";if(C||t.isInNegLookbehind){if(_.kind===k.lookahead||_.type===h.CapturingGroup)throw new Error(w)}else if(_.kind===k.lookahead||_.kind===k.lookbehind&&_.negate)throw new Error(w)}}l=wt(n[e.current])}return o||(u=An(u)),e.current++,u}function un({token:e,parent:t}){const{min:r,max:n,greedy:s,possessive:i}=e,a=t.elements.at(-1);if(!a||a.type===h.Assertion||a.type===h.Directive)throw new Error("Quantifier requires a repeatable token");const o=jt(a,r,n,s,i);return t.elements.pop(),o}function ln(e){const{token:t,capturingGroups:r,subroutines:n}=e;let s=t.raw.slice(3,-1);const i=/^(?<sign>[-+]?)0*(?<num>[1-9]\d*)$/.exec(s);if(i){const o=+i.groups.num,c=r.length;if(e.hasNumberedRef=!0,s={"":o,"+":c+o,"-":c+1-o}[i.groups.sign],s<1)throw new Error("Invalid subroutine number")}else s==="0"&&(s=0);const a=yn(s);return n.push(a),a}function fn(e){return{type:h.AbsentFunction,kind:e,alternatives:[ne()]}}function ne(){return{type:h.Alternative,elements:[]}}function Vt(e,t){const r=!!(t!=null&&t.negate);return{type:h.Assertion,kind:e,...e===k.word_boundary&&{negate:r}}}function pn({kind:e}){return Vt(Q({"^":k.line_start,$:k.line_end,"\\A":k.string_start,"\\b":k.word_boundary,"\\B":k.word_boundary,"\\G":k.search_start,"\\z":k.string_end,"\\Z":k.string_end_newline}[e],`Unexpected assertion kind "${e}"`),{negate:e===d`\B`})}function We(e,t){const r=!!(t!=null&&t.orphan);return{type:h.Backreference,...r&&{orphan:r},ref:e}}function hn({flags:e,kind:t,name:r,negate:n,number:s}){switch(t){case F.absent_repeater:return fn(rn.repeater);case F.atomic:return z({atomic:!0});case F.capturing:return Ht(s,r);case F.group:return z({flags:e});case F.lookahead:case F.lookbehind:return de({behind:t===F.lookbehind,negate:n});default:throw new Error(`Unexpected group kind "${t}"`)}}function Ht(e,t){const r=t!==void 0;if(r&&!bn(t))throw new Error(`Group name "${t}" invalid in Oniguruma`);return{type:h.CapturingGroup,number:e,...r&&{name:t},alternatives:[ne()]}}function Ye(e,t){const r={useLastValid:!1,...t};if(e>1114111){const n=e.toString(16);if(r.useLastValid)e=1114111;else throw e>1310719?new Error(`Invalid code point out of range "\\x{${n}}"`):new Error(`Invalid code point out of range in JS "\\x{${n}}"`)}return{type:h.Character,value:e}}function ze(e){const t={baseOnly:!1,negate:!1,...e};return{type:h.CharacterClass,negate:t.negate,elements:t.baseOnly?[]:[gn()]}}function gn(){return{type:h.CharacterClassIntersection,classes:[ze({negate:!1,baseOnly:!0})]}}function dn(e,t){if(t.value<e.value)throw new Error("Character class range out of order");return{type:h.CharacterClassRange,min:e,max:t}}function Qe(e,{negate:t}){const r={type:h.CharacterSet,kind:Q(I[e],`Unexpected character set kind "${e}"`)};return(e===O.digit||e===O.hex||e===O.space||e===O.word)&&(r.negate=t),r}function mn({kind:e,flags:t}){const r={type:h.Directive,kind:Q(be[e],`Unexpected directive kind "${e}"`)};return e===Le.flags&&(r.flags=t),r}function Cn({ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:s,wordIsAscii:i}){return{type:h.Flags,ignoreCase:e,dotAll:t,extended:r,digitIsAscii:n,spaceIsAscii:s,wordIsAscii:i}}function z(e){const t=e==null?void 0:e.atomic,r=e==null?void 0:e.flags;return{type:h.Group,...t&&{atomic:t},...r&&{flags:r},alternatives:[ne()]}}function de(e){const t={behind:!1,negate:!1,...e};return{type:h.Assertion,kind:t.behind?k.lookbehind:k.lookahead,negate:t.negate,alternatives:[ne()]}}function _n(){return{type:h.Pattern,alternatives:[ne()]}}function jt(e,t,r,n=!0,s=!1){const i={type:h.Quantifier,min:t,max:r,greedy:n,possessive:s,element:e};return r<t?{...i,min:r,max:t,possessive:!0}:i}function wn(e,t){return{type:h.Regex,pattern:e,flags:t}}function yn(e){return{type:h.Subroutine,ref:e}}function le(e,t){const r={negate:!1,skipPropertyNameValidation:!1,...t};return{type:h.CharacterSet,kind:I.property,value:r.skipPropertyNameValidation?e:kn(e),negate:r.negate}}function En(e){return{type:h.VariableLengthCharacterSet,kind:Q({"\\R":Se.newline,"\\X":Se.grapheme}[e],`Unexpected varcharset kind "${e}"`)}}function kn(e){const t=$e(e);if(Tt.has(t))throw new Error(d`Unicode property "\p{${e}}" unsupported in Oniguruma`);const r=Lt.get(t);return r||e.trim().replace(/[- _]+/g,"_").replace(/[A-Z][a-z]+(?=[A-Z])/g,"$&_").replace(/[A-Za-z]+/g,n=>n[0].toUpperCase()+n.slice(1).toLowerCase())}function An(e){const t=e.alternatives[0].elements[0];return e.type===h.Group&&Je(e,r=>r.type===h.Group)&&!(e.atomic&&t.flags)&&!(e.flags&&(t.atomic||t.flags))?(e.atomic?t.atomic=!0:e.flags&&(t.flags=e.flags),t):e}function bn(e){return/^[\p{Alpha}\p{Pc}][^)]*$/u.test(e)}function vn(e){for(let t=0;t<e.classes.length;t++){const r=e.classes[t],n=r.elements[0];r.elements.length===1&&n.type===h.CharacterClass&&(e.classes[t]=n,n.negate=r.negate!==n.negate)}}function _t(e,t){return Q(e,`${(t==null?void 0:t.value)===93?"Empty":"Unclosed"} character class`)}function wt(e){return Q(e,"Unclosed group")}function Sn(e,t){const r={accuracy:"default",asciiWordBoundaries:!1,avoidSubclass:!1,bestEffortTarget:"ES2025",...t},n={accuracy:r.accuracy,asciiWordBoundaries:r.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,flagDirectivesByAlt:new Map,jsGroupNameMap:new Map,minTargetEs2024:je(r.bestEffortTarget,"ES2024"),passedLookbehind:!1,strategy:null,subroutineRefMap:new Map,supportedGNodes:new Set,digitIsAscii:e.flags.digitIsAscii,spaceIsAscii:e.flags.spaceIsAscii,wordIsAscii:e.flags.wordIsAscii};pe({node:e},n,Wt);const s={dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},i={currentFlags:s,prevFlags:null,globalFlags:s,groupOriginByCopy:new Map,groupsByName:new Map,multiplexCapturesToLeftByRef:new Map,openRefs:new Map,reffedNodesByReferencer:new Map,subroutineRefMap:n.subroutineRefMap};pe({node:e},i,zt);const a={groupsByName:i.groupsByName,highestOrphanBackref:0,numCapturesToLeft:0,reffedNodesByReferencer:i.reffedNodesByReferencer};return pe({node:e},a,In),e._originMap=i.groupOriginByCopy,e._strategy=n.strategy,e}var Wt={AbsentFunction({node:e,replaceWith:t}){const r=q(z(),[me(de({negate:!0}),e.alternatives),le("Any")]),n=jt(r,0,1/0);r.parent=n,t(q(z(),[n]))},Alternative:{enter({node:e,parent:t,key:r},{flagDirectivesByAlt:n}){const s=e.elements.filter(i=>i.kind===be.flags);for(let i=r+1;i<t.alternatives.length;i++){const a=t.alternatives[i];ge(n,a,[]).push(...s)}},exit({node:e},{flagDirectivesByAlt:t}){var r;if((r=t.get(e))!=null&&r.length){const n=Xt(t.get(e));if(n){const s=q(z({flags:n}),e.elements);s.parent=e,e.elements=[s]}}}},Assertion({node:e,key:t,container:r,ast:n,remove:s,replaceWith:i},a){const{kind:o,negate:c}=e,{asciiWordBoundaries:u,avoidSubclass:p,supportedGNodes:f,wordIsAscii:C}=a;if(o===k.line_end)i(j(d`(?=\z|\n)`));else if(o===k.line_start)i(j(d`(?<=\A|\n(?!\z))`,{skipLookbehindValidation:!0}));else if(o===k.lookbehind)a.passedLookbehind=!0;else if(o===k.search_start)if(f.has(e))n.flags.sticky=!0,s();else{const l=r[t-1];if(l&&Yr(l))i(q(de({negate:!0})));else{if(p)throw new Error(d`Uses "\G" in a way that requires a subclass`);i(Vt(k.string_start)),a.strategy="clip_search"}}else if(o===k.string_end_newline)i(j(d`(?=\n?\z)`));else if(o===k.word_boundary&&!C&&!u){const l=`(?:(?<=${X})(?!${X})|(?<!${X})(?=${X}))`,g=`(?:(?<=${X})(?=${X})|(?<!${X})(?!${X}))`;i(j(c?g:l))}},Backreference({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Be(r)&&(r=De(r,t),e.ref=r)},CapturingGroup({node:e},{jsGroupNameMap:t,subroutineRefMap:r}){let{name:n}=e;n&&!Be(n)&&(n=De(n,t),e.name=n),r.set(e.number,e),n&&r.set(n,e)},CharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n,digitIsAscii:s,spaceIsAscii:i,wordIsAscii:a}){const{kind:o,negate:c,value:u}=e;if(s&&(o===I.digit||u==="digit")){t(Qe(I.digit,{negate:c}));return}if(i&&(o===I.space||u==="space")){t(Ve(j(xn),c));return}if(a&&(o===I.word||u==="word")){t(Qe(I.word,{negate:c}));return}if(o===I.any)t(le("Any"));else if(o===I.digit)t(le("Nd",{negate:c}));else if(o===I.hex)t(le("AHex",{negate:c}));else if(o===I.non_newline)t(j(d`[^\n]`));else if(o===I.space)t(le("space",{negate:c}));else if(o===I.word)t(Ve(j(X),c));else if(o===I.property)$t.has(u)||(e.key="sc");else if(o===I.posix)if(!n&&(u==="graph"||u==="print")){if(r==="strict")throw new Error(`POSIX class "${u}" requires min target ES2024 or non-strict accuracy`);let p={graph:"!-~",print:" -~"}[u];c&&(p=`\0-${T(p.codePointAt(0)-1)}${T(p.codePointAt(2)+1)}-􏿿`),t(j(`[${p}]`))}else t(Ve(j(Pt.get(u)),c))},Directive(e,t){const{node:r,parent:n,ast:s,remove:i,replaceWith:a,removeAllPrevSiblings:o,removeAllNextSiblings:c}=e,{kind:u,flags:p}=r;if(u===be.flags)if(!p.enable&&!p.disable)i();else{const f=q(z({flags:p}),c());a(f),Jt(f,e,t,Wt)}else if(u===be.keep){const f=s.pattern.alternatives[0].elements[0],l=Je(s.pattern,g=>g.type===h.Group)&&f.alternatives.length===1?f:s.pattern;if(n.parent!==l||l.alternatives.length>1)throw new Error(d`Uses "\K" in a way that's unsupported`);a(q(de({behind:!0}),o()))}},Flags({node:e,parent:t}){["digitIsAscii","extended","spaceIsAscii","wordIsAscii"].forEach(r=>delete e[r]),Object.assign(e,{global:!1,hasIndices:!1,multiline:!1,sticky:e.sticky??!1}),t.options={disable:{x:!0,n:!0},force:{v:!0}}},Group({node:e}){if(!e.flags)return;const{enable:t,disable:r}=e.flags;t!=null&&t.extended&&delete t.extended,r!=null&&r.extended&&delete r.extended,t!=null&&t.dotAll&&(r!=null&&r.dotAll)&&delete t.dotAll,t!=null&&t.ignoreCase&&(r!=null&&r.ignoreCase)&&delete t.ignoreCase,t&&!Object.keys(t).length&&delete e.flags.enable,r&&!Object.keys(r).length&&delete e.flags.disable,!e.flags.enable&&!e.flags.disable&&delete e.flags},Pattern:{enter({node:e},{supportedGNodes:t}){const r=[];let n=!1,s=!1;for(const i of e.alternatives)if(i.elements.length===1&&i.elements[0].kind===k.search_start)i.elements.pop();else{const a=Zt(i.elements);a?(n=!0,Array.isArray(a)?r.push(...a):r.push(a)):s=!0}n&&!s&&r.forEach(i=>t.add(i))},exit(e,{accuracy:t,passedLookbehind:r,strategy:n}){if(t==="strict"&&r&&n)throw new Error(d`Uses "\G" in a way that requires non-strict accuracy`)}},Quantifier({node:e}){if(e.element.type===h.Quantifier){const t=q(z(),[e.element]);t.parent=e,e.element=t}},Subroutine({node:e},{jsGroupNameMap:t}){let{ref:r}=e;typeof r=="string"&&!Be(r)&&(r=De(r,t),e.ref=r)},VariableLengthCharacterSet({node:e,replaceWith:t},{accuracy:r,minTargetEs2024:n}){const{kind:s}=e;if(s===Se.newline)t(j(`(?>\r
?|[
\v\f\u2028\u2029])`));else if(s===Se.grapheme){if(r==="strict")throw new Error(d`Use of "\X" requires non-strict accuracy`);const i=n?d`\p{RGI_Emoji}`:Ar().source.replace(/\\u\{/g,"\\x{");t(j(d`(?>\r\n|${i}|\P{M}\p{M}*)`,{skipPropertyNameValidation:!0}))}else throw new Error(`Unexpected varcharset kind "${s}"`)}},zt={Backreference({node:e},{multiplexCapturesToLeftByRef:t,reffedNodesByReferencer:r}){const{orphan:n,ref:s}=e;n||r.set(e,[...t.get(s).map(({node:i})=>i)])},CapturingGroup:{enter({node:e,replaceWith:t,skip:r},{groupOriginByCopy:n,groupsByName:s,multiplexCapturesToLeftByRef:i,openRefs:a,reffedNodesByReferencer:o}){const c=n.get(e);if(c&&a.has(e.number)){const p=yt(e.number);o.set(p,a.get(e.number)),t(p),r();return}a.set(e.number,e),i.set(e.number,[]),e.name&&ge(i,e.name,[]);const u=i.get(e.name??e.number);for(let p=0;p<u.length;p++){const f=u[p];if(c===f.node||c&&c===f.origin||e===f.origin){u.splice(p,1);break}}if(i.get(e.number).push({node:e,origin:c}),e.name&&i.get(e.name).push({node:e,origin:c}),e.name){const p=ge(s,e.name,new Map);let f=!1;if(c)f=!0;else for(const C of p.values())if(!C.hasDuplicateNameToRemove){f=!0;break}s.get(e.name).set(e,{node:e,hasDuplicateNameToRemove:f})}},exit({node:e},{openRefs:t}){t.delete(e.number)}},Group:{enter({node:e},t){t.prevFlags=t.currentFlags,e.flags&&(t.currentFlags=ve(t.currentFlags,e.flags))},exit(e,t){t.currentFlags=t.prevFlags}},Recursion({node:e,parent:t},{reffedNodesByReferencer:r}){const{ref:n}=e;let s=t;for(;(s=s.parent)&&!(s.type===h.CapturingGroup&&(s.name===n||s.number===n)););r.set(e,s)},Subroutine(e,t){const{node:r,replaceWith:n}=e,{ref:s}=r,i=t.subroutineRefMap.get(s),a=s===0,o=a?yt(0):Qt(i,t.groupOriginByCopy,null);let c=o;if(!a){const u=Xt(Tn(i,f=>f.type===h.Group&&!!f.flags)),p=u?ve(t.globalFlags,u):t.globalFlags;$n(p,t.currentFlags)||(c=q(z({flags:Pn(p)}),[o]))}n(c),a||Jt(c,e,t,zt)}},In={Backreference({node:e,replaceWith:t},r){if(e.orphan){r.highestOrphanBackref=Math.max(r.highestOrphanBackref,e.ref);return}const s=r.reffedNodesByReferencer.get(e).filter(i=>Ln(i,e));if(!s.length)t(q(de({negate:!0})));else if(s.length>1){const i=s.map(a=>me(ne(),[We(a.number)]));t(me(z(),i))}else e.ref=s[0].number},CapturingGroup({node:e},t){e.number=++t.numCapturesToLeft,e.name&&t.groupsByName.get(e.name).get(e).hasDuplicateNameToRemove&&delete e.name},Recursion({node:e},t){e.ref!==0&&(e.ref=t.reffedNodesByReferencer.get(e).number)},Regex:{exit({node:e},t){const r=Math.max(t.highestOrphanBackref-t.numCapturesToLeft,0);for(let n=0;n<r;n++){const s=Ht();e.pattern.alternatives.at(-1).elements.push(s)}}}},xn="[	-\r ]",X=d`[\p{L}\p{M}\p{N}\p{Pc}]`;function me(e,t){return t.forEach(r=>r.parent=e),e[et(e)]=t,e}function $n(e,t){return e.dotAll===t.dotAll&&e.ignoreCase===t.ignoreCase}function Ln(e,t){let r=t;do{if(r.type===h.Pattern)return!1;if(r.type===h.Alternative)continue;if(r===e)return!1;const n=qt(r.parent);for(const s of n){if(s===r)break;if(s===e||Kt(s,e))return!0}}while(r=r.parent);throw new Error("Unexpected path")}function Qt(e,t,r,n){const s=Array.isArray(e)?[]:{};for(const[i,a]of Object.entries(e))i==="parent"?s.parent=Array.isArray(r)?n:r:a&&typeof a=="object"?s[i]=Qt(a,t,s,r):(i==="type"&&a===h.CapturingGroup&&t.set(s,t.get(e)??e),s[i]=a);return s}function yt(e){return{type:h.Recursion,ref:e}}function Tn(e,t){const r=[];for(;e=e.parent;)(!t||t(e))&&r.push(e);return r}function De(e,t){if(t.has(e))return t.get(e);const r=`$${t.size}_${e.replace(/^[^$_\p{IDS}]|[^$\u200C\u200D\p{IDC}]/ug,"_")}`;return t.set(e,r),r}function et(e){for(const t of["alternatives","classes","elements"])if(e[t])return t;return null}function Xt(e){const t=["dotAll","ignoreCase"],r={enable:{},disable:{}};return e.forEach(({flags:n})=>{t.forEach(s=>{var i,a;(i=n.enable)!=null&&i[s]&&(delete r.disable[s],r.enable[s]=!0),(a=n.disable)!=null&&a[s]&&(r.disable[s]=!0)})}),Object.keys(r.enable).length||delete r.enable,Object.keys(r.disable).length||delete r.disable,r.enable||r.disable?r:null}function Pn({dotAll:e,ignoreCase:t}){const r={};return(e||t)&&(r.enable={},e&&(r.enable.dotAll=!0),t&&(r.enable.ignoreCase=!0)),(!e||!t)&&(r.disable={},!e&&(r.disable.dotAll=!0),!t&&(r.disable.ignoreCase=!0)),r}function qt(e){if(!e)throw new Error("Node expected");if(e.type===h.Quantifier)return[e.element];const t=et(e);return t&&e[t]}function Zt(e){const t=e.find(r=>r.kind===k.search_start||On(r,{negate:!1})||!Jr(r));if(!t)return null;if(t.kind===k.search_start)return t;if(we(t))return t.alternatives[0].elements[0];if(Dt(t)){const r=[];for(const n of t.alternatives){const s=Zt(n.elements);if(!s)return null;Array.isArray(s)?r.push(...s):r.push(s)}return r}return null}function Kt(e,t){const r=qt(e)??[];for(const n of r)if(n===t||Kt(n,t))return!0;return!1}function On(e,t){const r={negate:null,...t};return we(e)&&(r.negate===null||e.negate===r.negate)&&Je(e,n=>n.kind===k.search_start)}function Be(e){return/^[$_\p{IDS}][$\u200C\u200D\p{IDC}]*$/u.test(e)}function j(e,t){const n=Bt(Mt(e),t).pattern.alternatives;return n.length>1||n[0].elements.length>1?me(z(),n):n[0].elements[0]}function q(e,t){const r=et(e);return e[r][0].parent=e,t&&me(e[r][0],t),e}function Ve(e,t){return e.negate=t,e}function Jt(e,{parent:t,key:r,container:n},s,i){pe({node:e,parent:t,key:r,container:n},s,i)}function Rn(e,t){const r=It(t),n=je(r.target,"ES2024"),s=je(r.target,"ES2025"),i=r.rules.recursionLimit;if(!Number.isInteger(i)||i<2||i>20)throw new Error("Invalid recursionLimit; use 2-20");let a=null,o=null;if(!s){const l=[e.flags.ignoreCase];pe({node:e},{getCurrentModI:()=>l.at(-1),popModI(){l.pop()},pushModI(g){l.push(g)},setHasCasedChar(){l.at(-1)?a=!0:o=!0}},Fn)}const c={dotAll:e.flags.dotAll,ignoreCase:!!((e.flags.ignoreCase||a)&&!o)};let u=null;const p={accuracy:r.accuracy,appliedGlobalFlags:c,captureMap:new Map,currentFlags:{dotAll:e.flags.dotAll,ignoreCase:e.flags.ignoreCase},inCharClass:!1,lastNode:u,originMap:e._originMap,recursionLimit:i,useAppliedIgnoreCase:!!(!s&&a&&o),useFlagMods:s,useFlagV:n,verbose:r.verbose};function f(l){switch(p.lastNode=u,u=l,l.type){case h.Regex:return{pattern:f(l.pattern),flags:f(l.flags),options:{...l.options}};case h.Alternative:return l.elements.map(f).join("");case h.Assertion:return Dn(l,p,f);case h.Backreference:return Bn(l,p);case h.CapturingGroup:return Vn(l,p,f);case h.Character:return Hn(l,p);case h.CharacterClass:return jn(l,p,f);case h.CharacterClassIntersection:if(!p.useFlagV)throw new Error("Use of class intersection requires min target ES2024");return l.classes.map(f).join("&&");case h.CharacterClassRange:return Wn(l,p);case h.CharacterSet:return zn(l,p);case h.Flags:return Qn(l,p);case h.Group:return Xn(l,p,f);case h.Pattern:return l.alternatives.map(f).join("|");case h.Quantifier:return f(l.element)+Jn(l);case h.Recursion:return qn(l,p);default:throw new Error(`Unexpected node type "${l.type}"`)}}const C=f(e);return n||(delete C.options.force.v,C.options.disable.v=!0,C.options.unicodeSetsPlugin=null),C._captureTransfers=new Map,C._hiddenCaptures=[],p.captureMap.forEach((l,g)=>{l.hidden&&C._hiddenCaptures.push(g),l.transferTo&&ge(C._captureTransfers,l.transferTo,[]).push(g)}),C}var Fn={AnyGroup:{enter({node:e},t){const r=t.getCurrentModI();t.pushModI(e.flags?ve({ignoreCase:r},e.flags).ignoreCase:r)},exit(e,t){t.popModI()}},Backreference(e,t){t.setHasCasedChar()},Character({node:e},t){tt(T(e.value))&&t.setHasCasedChar()},CharacterClassRange({node:e,skip:t},r){t(),Yt(e,{firstOnly:!0}).length&&r.setHasCasedChar()},CharacterSet({node:e},t){e.kind===I.property&&Ot.has(e.value)&&t.setHasCasedChar()}},Nn=new Set(["$","(",")","*","+",".","?","[","\\","]","^","{","|","}"]),Mn=new Set(["-","\\","]","^","["]),Un=new Set(["(",")","-","/","[","\\","]","^","{","|","}","!","#","$","%","&","*","+",",",".",":",";","<","=",">","?","@","`","~"]),Et=new Map([[9,d`\t`],[10,d`\n`],[11,d`\v`],[12,d`\f`],[13,d`\r`],[8232,d`\u2028`],[8233,d`\u2029`],[65279,d`\uFEFF`]]),Gn=new RegExp("^\\p{Cased}$","u");function tt(e){return Gn.test(e)}function Dn(e,t,r){const{kind:n,negate:s,alternatives:i}=e;if(we(e))return`(?${`${n===k.lookahead?"":"<"}${s?"!":"="}`}${i.map(r).join("|")})`;if(n===k.string_end)return"$";if(n===k.string_start)return"^";if(n===k.word_boundary)return s?d`\B`:d`\b`;throw new Error(`Unexpected assertion kind "${n}"`)}function Bn({ref:e},t){if(typeof e!="number")throw new Error("Unexpected named backref in transformed AST");if(!t.useFlagMods&&t.accuracy==="strict"&&t.currentFlags.ignoreCase&&!t.captureMap.get(e).ignoreCase)throw new Error("Use of case-insensitive backref to case-sensitive group requires target ES2025 or non-strict accuracy");return"\\"+e}function Vn(e,t,r){const{name:n,number:s,alternatives:i}=e,a={ignoreCase:t.currentFlags.ignoreCase},o=t.originMap.get(e);return o&&(a.hidden=!0,s>o.number&&(a.transferTo=o.number)),t.captureMap.set(s,a),`(${n?`?<${n}>`:""}${i.map(r).join("|")})`}function Hn({value:e},t){const r=T(e),n=fe(e,{isAfterBackref:t.lastNode.type===h.Backreference,inCharClass:t.inCharClass,useFlagV:t.useFlagV});if(n!==r)return n;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase&&tt(r)){const s=xt(r);return t.inCharClass?s.join(""):s.length>1?`[${s.join("")}]`:s[0]}return r}function jn({negate:e,parent:t,elements:r},n,s){var o;he.literalHyphenIncorrectlyCreatesRange&&n.useFlagV&&r.some(kt)&&(r=r.filter(c=>!kt(c)),r.push(Ye(45)));const i=()=>`[${e?"^":""}${r.map(s).join("")}]`;if(!n.inCharClass){n.inCharClass=!0;const c=i();return n.inCharClass=!1,c}const a=(o=r[0])==null?void 0:o.type;if(!e&&a&&((!n.useFlagV||!n.verbose)&&t.type===h.CharacterClass&&a!==h.CharacterClassIntersection&&!(he.literalHyphenIncorrectlyCreatesRange&&n.useFlagV)||!n.verbose&&t.type===h.CharacterClassIntersection&&r.length===1&&a!==h.CharacterClass&&a!==h.CharacterClassRange))return r.map(s).join("");if(!n.useFlagV&&t.type===h.CharacterClass)throw new Error("Use of nested character class requires min target ES2024");return i()}function Wn(e,t){const r=e.min.value,n=e.max.value,s={isAfterBackref:!1,inCharClass:!0,useFlagV:t.useFlagV},i=fe(r,s),a=fe(n,s),o=new Set;if(t.useAppliedIgnoreCase&&t.currentFlags.ignoreCase){const c=Yt(e);Zn(c).forEach(p=>{o.add(Array.isArray(p)?`${fe(p[0],s)}-${fe(p[1],s)}`:fe(p,s))})}return`${i}-${a}${[...o].join("")}`}function zn({kind:e,negate:t,value:r,key:n},s){if(e===I.dot)return s.currentFlags.dotAll?s.appliedGlobalFlags.dotAll||s.useFlagMods?".":"[^]":d`[^\n]`;if(e===I.digit)return t?d`\D`:d`\d`;if(e===I.property){if(s.useAppliedIgnoreCase&&s.currentFlags.ignoreCase&&Ot.has(r))throw new Error(`Unicode property "${r}" can't be case-insensitive when other chars have specific case`);return`${t?d`\P`:d`\p`}{${n?`${n}=`:""}${r}}`}if(e===I.word)return t?d`\W`:d`\w`;throw new Error(`Unexpected character set kind "${e}"`)}function Qn(e,t){return(t.appliedGlobalFlags.ignoreCase?"i":"")+(e.dotAll?"s":"")+(e.sticky?"y":"")}function Xn({atomic:e,flags:t,parent:r,alternatives:n},s,i){const a=s.currentFlags;t&&(s.currentFlags=ve(a,t));const o=n.map(i).join("|"),c=!s.verbose&&n.length===1&&r.type!==h.Quantifier&&!e&&(!s.useFlagMods||!t)?o:`(?${Kn(e,t,s.useFlagMods)}${o})`;return s.currentFlags=a,c}function qn({ref:e},t){const r=t.recursionLimit;return e===0?`(?R=${r})`:d`\g<${e}&R=${r}>`}function Yt(e,t){const r=!!(t!=null&&t.firstOnly),n=e.min.value,s=e.max.value,i=[];if(n<65&&(s===65535||s>=131071)||n===65536&&s>=131071)return i;for(let a=n;a<=s;a++){const o=T(a);if(!tt(o))continue;const c=xt(o).filter(u=>{const p=u.codePointAt(0);return p<n||p>s});if(c.length&&(i.push(...c),r))break}return i}function fe(e,{isAfterBackref:t,inCharClass:r,useFlagV:n}){if(Et.has(e))return Et.get(e);if(e<32||e>126&&e<160||e>262143||t&&Yn(e))return e>255?`\\u{${e.toString(16).toUpperCase()}}`:`\\x${e.toString(16).toUpperCase().padStart(2,"0")}`;const s=r?n?Un:Mn:Nn,i=T(e);return(s.has(i)?"\\":"")+i}function Zn(e){const t=e.map(s=>s.codePointAt(0)).sort((s,i)=>s-i),r=[];let n=null;for(let s=0;s<t.length;s++)t[s+1]===t[s]+1?n??(n=t[s]):n===null?r.push(t[s]):(r.push([n,t[s]]),n=null);return r}function Kn(e,t,r){if(e)return">";let n="";if(t&&r){const{enable:s,disable:i}=t;n=(s!=null&&s.ignoreCase?"i":"")+(s!=null&&s.dotAll?"s":"")+(i?"-":"")+(i!=null&&i.ignoreCase?"i":"")+(i!=null&&i.dotAll?"s":"")}return`${n}:`}function Jn({min:e,max:t,greedy:r,possessive:n}){let s;return!e&&t===1?s="?":!e&&t===1/0?s="*":e===1&&t===1/0?s="+":e===t?s=`{${e}}`:s=`{${e},${t===1/0?"":t}}`,s+(n?"+":r?"":"?")}function Yn(e){return e>47&&e<58}function kt({type:e,value:t}){return e===h.Character&&t===45}var ee,Z,oe,te,ce,Ce,Xe,re,es=(re=class extends RegExp{constructor(r,n,s){var t=(...ys)=>(super(...ys),ae(this,Ce),ae(this,ee,new Map),ae(this,Z,null),ae(this,oe),ae(this,te,null),ae(this,ce,null),Pe(this,"rawOptions",{}),this);const i=!!(s!=null&&s.lazyCompile);if(r instanceof RegExp){if(s)throw new Error("Cannot provide options when copying a regexp");const a=r;t(a,n),H(this,oe,a.source),a instanceof re&&(H(this,ee,M(a,ee)),H(this,te,M(a,te)),H(this,ce,M(a,ce)),this.rawOptions=a.rawOptions)}else{const a={hiddenCaptures:[],strategy:null,transfers:[],...s};t(i?"":r,n),H(this,oe,r),H(this,ee,rs(a.hiddenCaptures,a.transfers)),H(this,ce,a.strategy),this.rawOptions=s??{}}i||H(this,Z,this)}get source(){return M(this,oe)||"(?:)"}exec(r){if(!M(this,Z)){const{lazyCompile:i,...a}=this.rawOptions;H(this,Z,new re(M(this,oe),this.flags,a))}const n=this.global||this.sticky,s=this.lastIndex;if(M(this,ce)==="clip_search"&&n&&s){this.lastIndex=0;const i=Re(this,Ce,Xe).call(this,r.slice(s));return i&&(ts(i,s,r,this.hasIndices),this.lastIndex+=s),i}return Re(this,Ce,Xe).call(this,r)}},ee=new WeakMap,Z=new WeakMap,oe=new WeakMap,te=new WeakMap,ce=new WeakMap,Ce=new WeakSet,Xe=function(r){M(this,Z).lastIndex=this.lastIndex;const n=it(re.prototype,this,"exec").call(M(this,Z),r);if(this.lastIndex=M(this,Z).lastIndex,!n||!M(this,ee).size)return n;const s=[...n];n.length=1;let i;this.hasIndices&&(i=[...n.indices],n.indices.length=1);const a=[0];for(let o=1;o<s.length;o++){const{hidden:c,transferTo:u}=M(this,ee).get(o)??{};if(c?a.push(null):(a.push(n.length),n.push(s[o]),this.hasIndices&&n.indices.push(i[o])),u&&s[o]!==void 0){const p=Q(a[u]);if(n[p]=s[o],this.hasIndices&&(n.indices[p]=i[o]),n.groups){M(this,te)||H(this,te,ns(this.source));const f=M(this,te).get(u);f&&(n.groups[f]=s[o],this.hasIndices&&(n.indices.groups[f]=i[o]))}}}return n},re);function ts(e,t,r,n){if(e.index+=t,e.input=r,n){const s=e.indices;for(let a=0;a<s.length;a++){const o=s[a];o&&(s[a]=[o[0]+t,o[1]+t])}const i=s.groups;i&&Object.keys(i).forEach(a=>{const o=i[a];o&&(i[a]=[o[0]+t,o[1]+t])})}}function rs(e,t){const r=new Map;for(const n of e)r.set(n,{hidden:!0});for(const[n,s]of t)for(const i of s)ge(r,i,{}).transferTo=n;return r}function ns(e){const t=/(?<capture>\((?:\?<(?![=!])(?<name>[^>]+)>|(?!\?)))|\\?./gsu,r=new Map;let n=0,s=0,i;for(;i=t.exec(e);){const{0:a,groups:{capture:o,name:c}}=i;a==="["?n++:n?a==="]"&&n--:o&&(s++,c&&r.set(s,c))}return r}function ss(e,t){const r=as(e,t);return r.options?new es(r.pattern,r.flags,r.options):new RegExp(r.pattern,r.flags)}function as(e,t){const r=It(t),n=Mt(e,r.flags,{captureGroup:r.rules.captureGroup,singleline:r.rules.singleline}),s=Bt(n,{skipBackrefValidation:r.rules.allowOrphanBackrefs,verbose:r.verbose}),i=Sn(s,{accuracy:r.accuracy,asciiWordBoundaries:r.rules.asciiWordBoundaries,avoidSubclass:r.avoidSubclass,bestEffortTarget:r.target}),a=Rn(i,r),o=Pr(a.pattern,{captureTransfers:a._captureTransfers,hiddenCaptures:a._hiddenCaptures,mode:"external"}),c=Lr(o.pattern),u=$r(c.pattern,{captureTransfers:o.captureTransfers,hiddenCaptures:o.hiddenCaptures}),p={pattern:u.pattern,flags:`${r.hasIndices?"d":""}${r.global?"g":""}${a.flags}${a.options.disable.v?"u":"v"}`};if(r.avoidSubclass){if(r.lazyCompileLength!==1/0)throw new Error("Lazy compilation requires subclass")}else{const f=u.hiddenCaptures.sort((_,w)=>_-w),C=Array.from(u.captureTransfers),l=i._strategy,g=p.pattern.length>=r.lazyCompileLength;(f.length||C.length||l||g)&&(p.options={...f.length&&{hiddenCaptures:f},...C.length&&{transfers:C},...l&&{strategy:l},...g&&{lazyCompile:g}})}return p}const At=4294967295;class is{constructor(t,r={}){Pe(this,"regexps");this.patterns=t,this.options=r;const{forgiving:n=!1,cache:s,regexConstructor:i}=r;if(!i)throw new Error("Option `regexConstructor` is not provided");this.regexps=t.map(a=>{if(typeof a!="string")return a;const o=s==null?void 0:s.get(a);if(o){if(o instanceof RegExp)return o;if(n)return null;throw o}try{const c=i(a);return s==null||s.set(a,c),c}catch(c){if(s==null||s.set(a,c),n)return null;throw c}})}findNextMatchSync(t,r,n){const s=typeof t=="string"?t:t.content,i=[];function a(o,c,u=0){return{index:o,captureIndices:c.indices.map(p=>p==null?{start:At,end:At,length:0}:{start:p[0]+u,end:p[1]+u,length:p[1]-p[0]})}}for(let o=0;o<this.regexps.length;o++){const c=this.regexps[o];if(c)try{c.lastIndex=r;const u=c.exec(s);if(!u)continue;if(u.index===r)return a(o,u,0);i.push([o,u,0])}catch(u){if(this.options.forgiving)continue;throw u}}if(i.length){const o=Math.min(...i.map(c=>c[1].index));for(const[c,u,p]of i)if(u.index===o)return a(c,u,p)}return null}}function os(e,t){return ss(e,{global:!0,hasIndices:!0,lazyCompileLength:3e3,rules:{allowOrphanBackrefs:!0,asciiWordBoundaries:!0,captureGroup:!0,recursionLimit:5,singleline:!0},...t})}function cs(e={}){const t=Object.assign({target:"auto",cache:new Map},e);return t.regexConstructor||(t.regexConstructor=r=>os(r,{target:t.target})),{createScanner(r){return new is(r,t)},createString(r){return{content:r}}}}function us({langs:e=[],themes:t=[],bundledLangs:r={},bundledThemes:n={},getMdcConfigs:s,options:i,engine:a}={}){let o,c;async function u(){var R,U;const{createHighlighterCore:l,addClassToHast:g,isSpecialLang:_,isSpecialTheme:w}=await b(async()=>{const{createHighlighterCore:G,addClassToHast:K,isSpecialLang:J,isSpecialTheme:ue}=await import("./BClUe8kS.js");return{createHighlighterCore:G,addClassToHast:K,isSpecialLang:J,isSpecialTheme:ue}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10]),import.meta.url),{transformerNotationDiff:y,transformerNotationErrorLevel:S,transformerNotationFocus:v,transformerNotationHighlight:x}=await b(async()=>{const{transformerNotationDiff:G,transformerNotationErrorLevel:K,transformerNotationFocus:J,transformerNotationHighlight:ue}=await import("./By3oo1Hl.js");return{transformerNotationDiff:G,transformerNotationErrorLevel:K,transformerNotationFocus:J,transformerNotationHighlight:ue}},[],import.meta.url),N=await l({langs:e,themes:t,engine:a||cs()});for await(const G of await f())await((U=(R=G.shiki)==null?void 0:R.setup)==null?void 0:U.call(R,N));return{shiki:N,addClassToHast:g,isSpecialLang:_,isSpecialTheme:w,transformers:[y(),S(),v(),x()]}}async function p(){return o||(o=u()),o}async function f(){return c||(c=Promise.resolve((s==null?void 0:s())||[])),c}return async(l,g,_,w={})=>{var rt,nt,st;const{shiki:y,addClassToHast:S,isSpecialLang:v,isSpecialTheme:x,transformers:N}=await p(),R={defaultColor:!1,meta:{__raw:w.meta}};g==="ts-type"||g==="typescript-type"?(g="typescript",R.grammarContextCode="let a:"):(g==="vue-html"||g==="vue-template")&&(g="vue",R.grammarContextCode="<template>");const U={...typeof _=="string"?{default:_}:_||{}},G=y.getLoadedThemes(),K=y.getLoadedLanguages();typeof g=="string"&&!K.includes(g)&&!v(g)&&(r[g]?await y.loadLanguage(r[g]):g="text");for(const[A,$]of Object.entries(U))typeof $=="string"&&!G.includes($)&&!x($)&&(n[$]?await y.loadTheme(n[$]):U[A]="none");const J=[...N];for(const A of await f()){const $=typeof((rt=A.shiki)==null?void 0:rt.transformers)=="function"?await((nt=A.shiki)==null?void 0:nt.transformers(l,g,_,w)):((st=A.shiki)==null?void 0:st.transformers)||[];J.push(...$)}const D=y.codeToHast(l.trimEnd(),{lang:g,...R,themes:U,transformers:[...J,{name:"mdc:highlight",line(A,$){var se;(se=w.highlights)!=null&&se.includes($)&&S(A,"highlight"),A.properties.line=$}},{name:"mdc:newline",line(A){if(l!=null&&l.includes(`
`)){if(A.children.length===0||A.children.length===1&&A.children[0].type==="element"&&A.children[0].children.length===1&&A.children[0].children[0].type==="text"&&A.children[0].children[0].value===""){A.children=[{type:"element",tagName:"span",properties:{emptyLinePlaceholder:!0},children:[{type:"text",value:`
`}]}];return}const $=A.children.at(-1);if(($==null?void 0:$.type)==="element"&&$.tagName==="span"){const se=$.children.at(-1);(se==null?void 0:se.type)==="text"&&(se.value+=`
`)}}}}]}).children[0],er=D.children[0],ye=i==null?void 0:i.wrapperStyle;D.properties.style=ye?typeof ye=="string"?ye:D.properties.style:"";const Te=[];return Object.keys(U).forEach(A=>{const $=A!=="default"?`.${A}`:"";Te.push(ye?`${$} .shiki,`:"",`html .${A} .shiki span {`,`color: var(--shiki-${A});`,`background: var(--shiki-${A}-bg);`,`font-style: var(--shiki-${A}-font-style);`,`font-weight: var(--shiki-${A}-font-weight);`,`text-decoration: var(--shiki-${A}-text-decoration);`,"}"),Te.push(`html${$} .shiki span {`,`color: var(--shiki-${A});`,`background: var(--shiki-${A}-bg);`,`font-style: var(--shiki-${A}-font-style);`,`font-weight: var(--shiki-${A}-font-weight);`,`text-decoration: var(--shiki-${A}-text-decoration);`,"}")}),{tree:er.children,className:Array.isArray(D.properties.class)?D.properties.class.join(" "):D.properties.class,inlineStyle:D.properties.style,style:Te.join("")}}}const ls={javascript:()=>b(()=>import("./ySlJ1b_l.js"),[],import.meta.url),js:()=>b(()=>import("./ySlJ1b_l.js"),[],import.meta.url),jsx:()=>b(()=>import("./BAng5TT0.js"),[],import.meta.url),json:()=>b(()=>import("./DTAJTTim.js"),[],import.meta.url),typescript:()=>b(()=>import("./Dj6nwHGl.js"),[],import.meta.url),ts:()=>b(()=>import("./Dj6nwHGl.js"),[],import.meta.url),tsx:()=>b(()=>import("./B6W0miNI.js"),[],import.meta.url),vue:()=>b(()=>import("./DOS5Ct67.js"),__vite__mapDeps([11,12,13,14,15,16,17]),import.meta.url),css:()=>b(()=>import("./BPhBrDlE.js"),[],import.meta.url),html:()=>b(()=>import("./DaDNKYhP.js"),__vite__mapDeps([12,13,14]),import.meta.url),shellscript:()=>b(()=>import("./CWGUrYGm.js"),[],import.meta.url),bash:()=>b(()=>import("./CWGUrYGm.js"),[],import.meta.url),sh:()=>b(()=>import("./CWGUrYGm.js"),[],import.meta.url),shell:()=>b(()=>import("./CWGUrYGm.js"),[],import.meta.url),zsh:()=>b(()=>import("./CWGUrYGm.js"),[],import.meta.url),markdown:()=>b(()=>import("./BDiHrqA7.js"),[],import.meta.url),md:()=>b(()=>import("./BDiHrqA7.js"),[],import.meta.url),mdc:()=>b(()=>import("./m-AOLwXV.js"),__vite__mapDeps([18,19,20,17,12,13,14]),import.meta.url),yaml:()=>b(()=>import("./CVw76BM1.js"),[],import.meta.url),yml:()=>b(()=>import("./CVw76BM1.js"),[],import.meta.url),sql:()=>b(()=>import("./BBT0u3iQ.js"),[],import.meta.url),go:()=>b(()=>import("./Dtn5OO9k.js"),[],import.meta.url),shellsession:()=>b(()=>import("./CiNAsHKU.js"),__vite__mapDeps([21,22]),import.meta.url),console:()=>b(()=>import("./CiNAsHKU.js"),__vite__mapDeps([21,22]),import.meta.url),templ:()=>b(()=>import("./DnAB7knh.js"),__vite__mapDeps([23,24,13,14]),import.meta.url)},fs={"material-theme-lighter":()=>b(()=>import("./B0m2ddpp.js"),[],import.meta.url).then(e=>e.default),"material-theme":()=>b(()=>import("./D5KoaKCx.js"),[],import.meta.url).then(e=>e.default),"material-theme-palenight":()=>b(()=>import("./Csfq5Kiy.js"),[],import.meta.url).then(e=>e.default)},ps={theme:{light:"material-theme-lighter",default:"material-theme",dark:"material-theme-palenight"}},hs=kr(()=>b(()=>import("./CG6Dc4jp.js"),[],import.meta.url)),Cs=us({bundledLangs:ls,bundledThemes:fs,options:ps,getMdcConfigs:ar,engine:hs});export{us as createShikiHighlighter,Cs as default};
