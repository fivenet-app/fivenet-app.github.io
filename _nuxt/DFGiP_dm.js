import{aa as S,ab as d,ac as P,E as j,d as K,V as U,ad as _,L as N,M as L,c as k,k as R,w as T,a1 as V,a2 as F,ae as Q,af as v,F as r,G as B,Z as G,$ as M,P as A,Q as i,H as l,ag as D,r as I,U as C,T as u,ah as W,a3 as $,W as z,a4 as Z,a5 as q}from"./CMJCbZZd.js";import{N as J,Q as X,V as Y}from"./_wUD2DOA.js";const x={wrapper:"w-full flex flex-col",container:"w-full flex flex-col",item:{base:"",size:"text-sm",color:"text-gray-500 dark:text-gray-400",padding:"pt-1.5 pb-3",icon:"ms-auto transform transition-transform duration-200 flex-shrink-0"},transition:{enterActiveClass:"overflow-hidden transition-[height] duration-200 ease-out",leaveActiveClass:"overflow-hidden transition-[height] duration-200 ease-out"},default:{openIcon:"i-heroicons-chevron-down-20-solid",closeIcon:"",class:"mb-1.5 w-full",variant:"soft",truncate:!0}},b=S(d.ui.strategy,d.ui.accordion,x),ee=S(d.ui.strategy,d.ui.button,P),oe=K({components:{HDisclosure:J,HDisclosureButton:X,HDisclosurePanel:Y,UIcon:U,UButton:_},inheritAttrs:!1,props:{items:{type:Array,default:()=>[]},defaultOpen:{type:Boolean,default:!1},openIcon:{type:String,default:()=>b.default.openIcon},unmount:{type:Boolean,default:!1},closeIcon:{type:String,default:()=>b.default.closeIcon},multiple:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["open","close"],setup(e,{emit:p}){const{ui:w,attrs:H}=N("accordion",L(e,"ui"),b,L(e,"class")),O=k(()=>ee),c=R([]),m=k(()=>c.value.map(({open:o})=>o));T(m,(o,t)=>{for(const n in o){const a=t[n],E=o[n];!a&&E?p("open",n):a&&!E&&p("close",n)}},{immediate:!0});function h(o,t){!e.items[o].closeOthers&&e.multiple||c.value.forEach(n=>{n.open&&n.close(t.target)})}function g(o,t){const n=o;n.style.height="0",n.offsetHeight,n.style.height=n.scrollHeight+"px",n.addEventListener("transitionend",t,{once:!0})}function f(o){const t=o;t.style.height=t.scrollHeight+"px",t.offsetHeight}function y(o){const t=o;t.style.height="auto"}function s(o,t){const n=o;n.style.height="0",n.addEventListener("transitionend",t,{once:!0})}return V(()=>F()),{ui:w,uiButton:O,attrs:H,buttonRefs:c,closeOthers:h,omit:Q,onEnter:g,onBeforeLeave:f,onAfterEnter:y,onLeave:s}}}),te={key:1};function ne(e,p,w,H,O,c){const m=U,h=_,g=v("HDisclosureButton"),f=v("HDisclosurePanel"),y=v("HDisclosure");return r(),B("div",{class:u(e.ui.wrapper)},[(r(!0),B(G,null,M(e.items,(s,o)=>(r(),A(y,{key:o,as:"div",class:u(e.ui.container),"default-open":e.defaultOpen||s.defaultOpen},{default:i(({open:t,close:n})=>[l(g,{ref_for:!0,ref:()=>e.buttonRefs[o]={open:t,close:n},as:"template",disabled:s.disabled,onClick:a=>e.closeOthers(o,a),onKeydown:[D(a=>e.closeOthers(o,a),["enter"]),D(a=>e.closeOthers(o,a),["space"])]},{default:i(()=>[I(e.$slots,"default",{item:s,index:o,open:t,close:n},()=>[l(h,C({ref_for:!0},{...e.omit(e.ui.default,["openIcon","closeIcon"]),...e.attrs,...e.omit(s,["slot","disabled","content","defaultOpen"])}),{trailing:i(()=>[l(m,{name:t&&e.closeIcon?e.closeIcon:e.openIcon,class:u([t&&!e.closeIcon?"-rotate-180":"",e.uiButton.icon.size[s.size||e.uiButton.default.size],e.ui.item.icon])},null,8,["name","class"])]),_:2},1040)])]),_:2},1032,["disabled","onClick","onKeydown"]),l(W,C({ref_for:!0},e.ui.transition,{onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave}),{default:i(()=>[e.unmount?(r(),A(f,{key:0,class:u([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),unmount:""},{default:i(()=>[I(e.$slots,s.slot||"item",{item:s,index:o,open:t,close:n},()=>[$(z(s.content),1)])]),_:2},1032,["class"])):Z((r(),B("div",te,[l(f,{class:u([e.ui.item.base,e.ui.item.size,e.ui.item.color,e.ui.item.padding]),static:""},{default:i(()=>[I(e.$slots,s.slot||"item",{item:s,index:o,open:t,close:n},()=>[$(z(s.content),1)])]),_:2},1032,["class"])],512)),[[q,t]])]),_:2},1040,["onEnter","onAfterEnter","onBeforeLeave","onLeave"])]),_:2},1032,["class","default-open"]))),128))],2)}const ie=Object.assign(j(oe,[["render",ne]]),{__name:"UAccordion"});export{ie as _};
